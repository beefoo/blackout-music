<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Blackout Music</title>
    <meta name="description" content="Create new music by erasing old music" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- <meta property="og:title" content="" />
    <meta property="og:type" content="" />
    <meta property="og:url" content="" />
    <meta property="og:image" content="" /> -->

    <link rel="icon" href="/icon.svg" type="image/svg+xml" />
    <!-- <link rel="apple-touch-icon" href="icon.png" /> -->

    <link rel="stylesheet" href="css/vendor/normalize.css" />
    <link rel="stylesheet" href="css/main.css" />

    <meta name="theme-color" content="#e538ff" />
  </head>

  <body>
    <div class="app">
      <header class="header">
        <h1>
          <span>B</span><span>l</span><span>a</span><span>c</span><span>k</span
          ><span>o</span><span>u</span><span>t</span> <span>M</span
          ><span>u</span><span>s</span><span>i</span><span>c</span>
        </h1>
        <h2>"Create new music by erasing old music"</h2>
        <button
          id="share-button"
          title="Share"
          class="panel-button"
          data-panel="share-panel"
        >
          <span class="visually-hidden">Share</span>
          <!-- prettier-ignore -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M22 4v2h-1v2h-1v1h-5V8h-2v1h-1v1h-1v4h1v1h1v1h2v-1h5v1h1v2h1v2h-1v2h-1v1h-5v-1h-1v-2h-1v-2h-1v-1h-1v-1h-1v-1H9v1H4v-1H3v-2H2v-2h1V9h1V8h5v1h1V8h1V7h1V6h1V4h1V2h1V1h5v1h1v2z"/></svg>
        </button>
        <button id="upload-button" title="Upload MIDI file">
          <span class="visually-hidden">Upload MIDI file</span>
          <!-- prettier-ignore -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M11 5V3h2v2h2v2h2v2h-2V7h-2v10h-2V7H9v2H7V7h2V5zM3 15v6h18v-6h-2v4H5v-4z"/></svg>
        </button>
        <button
          id="download-button"
          title="Download"
          class="panel-button"
          data-panel="download-panel"
        >
          <span class="visually-hidden">Download</span>
          <!-- prettier-ignore -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M13 17V3h-2v10H9v-2H7v2h2v2h2v2zm8 2v-4h-2v4H5v-4H3v6h18zm-8-6v2h2v-2h2v-2h-2v2z"/></svg>
        </button>
        <a
          href="/about.html"
          class="button"
          target="_blank"
          title="About this project"
        >
          <span class="visually-hidden">About this project</span>
          <!-- prettier-ignore -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 12 12"><path fill="currentColor" d="M3 12h5v-1h2V9h1V4h-1V2H8V1H3v1H1v2H0v5h1v2h2Zm1-3V8h1V6H4V5h2v3h1v1Zm1-5V3h1v1Zm0 0"/></svg>
        </a>
      </header>
      <main class="main">
        <div class="selector">
          <label for="select-composition">Choose a composition:</label>
          <select id="select-composition" name="c"></select>
        </div>
        <div class="composition-wrapper">
          <div id="composition" class="composition"></div>
          <div id="pagination" class="pagination">
            <button id="page-left" title="Previous page" disabled>
              <span class="visually-hidden">Previous page</span>
              <!-- prettier-ignore -->
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M16 5v2h-2V5zm-4 4V7h2v2zm-2 2V9h2v2zm0 2H8v-2h2zm2 2v-2h-2v2zm0 0h2v2h-2zm4 4v-2h-2v2z"/></svg>
            </button>
            <select id="select-page" name="page">
              <option value="0">Page 1</option>
            </select>
            <button id="page-right" title="Next page">
              <span class="visually-hidden">Next page</span>
              <!-- prettier-ignore -->
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M8 5v2h2V5zm4 4V7h-2v2zm2 2V9h-2v2zm0 2h2v-2h-2zm-2 2v-2h2v2zm0 0h-2v2h2zm-4 4v-2h2v2z"/></svg>
            </button>
          </div>
        </div>
      </main>
      <div class="controls">
        <button id="toggle-play-button" title="Toggle play">
          <span class="visually-hidden">Toggle play</span>
          <!-- prettier-ignore -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="play-icon"><path fill="currentColor" d="M10 20H8V4h2v2h2v3h2v2h2v2h-2v2h-2v3h-2z"/></svg>
          <!-- prettier-ignore -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="pause-icon"><path fill="currentColor" d="M10 4H5v16h5zm9 0h-5v16h5z"/></svg>
        </button>
        <button id="every-other-button" title="Toggle every other note">
          <span class="visually-hidden">Toggle every other note</span>
          <!-- prettier-ignore -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" version="1.1" viewBox="0 0 24 24">
            <path d="M2.5,5.9v5h5v-5H2.5ZM6.2,9.6h-2.5v-2.5h2.5v2.5ZM14.5,10.9h-5v-5h5v5ZM7.5,18.1H2.5v-5h5v5ZM21.5,18.1h-5v-5h5v5ZM9.5,13.2v5h5v-5h-5ZM13.2,17h-2.5v-2.5h2.5v2.5ZM16.5,5.9v5h5v-5h-5ZM20.2,9.6h-2.5v-2.5h2.5v2.5Z" fill="currentColor"/>
          </svg>
        </button>
        <button id="high-low-button" title="Toggle high and low notes">
          <span class="visually-hidden">Toggle high and low notes</span>
          <!-- prettier-ignore -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" version="1.1" viewBox="0 0 24 24">
            <path d="M2.5,5.9v5h5v-5H2.5ZM6.2,9.6h-2.5v-2.5h2.5v2.5ZM14.5,18.1h-5v-5h5v5ZM7.5,18.1H2.5v-5h5v5ZM21.5,18.1h-5v-5h5v5ZM9.5,5.9v5h5v-5h-5ZM13.2,9.6h-2.5v-2.5h2.5v2.5ZM16.5,5.9v5h5v-5h-5ZM20.2,9.6h-2.5v-2.5h2.5v2.5Z" fill="currentColor"/>
          </svg>
        </button>
        <button id="randomize-button" title="Toggle notes randomly">
          <span class="visually-hidden">Toggle notes randomly</span>
          <!-- prettier-ignore -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M8 15h1v2H8v1H7v1H1v-2h6v-1h1zm13 1h1v2h-1v1h-1v1h-1v1h-1v-3h-4v-1h-1v-1h-1v-2h-1v-1h-1v-2H9v-1H8V8H7V7H1V5h7v1h1v2h1v2h1v1h1v2h1v1h1v2h4v-3h1v1h1v1h1z"/><path fill="currentColor" d="M22 5v2h-1v1h-1v1h-1v1h-1V7h-4v1h-1v1h-1V7h1V6h1V5h4V2h1v1h1v1h1v1z"/></svg>
        </button>
        <button id="reset-button" title="Reset sequence">
          <span class="visually-hidden">Reset</span>
          <!-- prettier-ignore -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M16 2h-2v2h2v2H4v2H2v5h2V8h12v2h-2v2h2v-2h2V8h2V6h-2V4h-2zM6 20h2v2h2v-2H8v-2h12v-2h2v-5h-2v5H8v-2h2v-2H8v2H6v2H4v2h2z"/></svg>
        </button>
        <button
          id="settings-button"
          title="View settings"
          class="panel-button"
          data-panel="settings-panel"
        >
          <span class="visually-hidden">Settings</span>
          <!-- prettier-ignore -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="square" stroke-width="2" d="M3 8h4m0 0V6h4v2M7 8v2h4V8m0 0h10M3 16h10m0 0v-2h4v2m-4 0v2h4v-2m0 0h4"/></svg>
        </button>
      </div>
      <div id="share-panel" class="panel">
        <h2><a name="share"></a>Share</h2>
        <button class="close-panel panel-button" data-panel="share-panel">
          <span class="visually-hidden">Close panel</span>
          <!-- prettier-ignore -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M5 5h2v2H5zm4 4H7V7h2zm2 2H9V9h2zm2 0h-2v2H9v2H7v2H5v2h2v-2h2v-2h2v-2h2v2h2v2h2v2h2v-2h-2v-2h-2v-2h-2zm2-2v2h-2V9zm2-2v2h-2V7zm0 0V5h2v2z"/></svg>
        </button>
        <div class="form">
          <div class="form-row">
            <fieldset>
              <label for="share-url">Share URL</label>
              <p>
                Select and copy the URL below to share your current pattern and
                settings
              </p>
              <input id="share-url" name="share" type="text" />
            </fieldset>
          </div>
        </div>
      </div>
      <div id="download-panel" class="panel">
        <h2><a name="download"></a>Download as MIDI</h2>
        <button class="close-panel panel-button" data-panel="download-panel">
          <span class="visually-hidden">Close panel</span>
          <!-- prettier-ignore -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M5 5h2v2H5zm4 4H7V7h2zm2 2H9V9h2zm2 0h-2v2H9v2H7v2H5v2h2v-2h2v-2h2v-2h2v2h2v2h2v2h2v-2h-2v-2h-2v-2h-2zm2-2v2h-2V9zm2-2v2h-2V7zm0 0V5h2v2z"/></svg>
        </button>
        <div class="form">
          <div class="form-row">
            <fieldset>
              <button id="download-midi-pattern">
                Download current pattern as MIDI file
              </button>
              <button id="download-midi-song">
                Download entire song as MIDI file
              </button>
            </fieldset>
          </div>
        </div>
      </div>
      <div id="settings-panel" class="panel">
        <h2><a name="settings"></a>Synthesizer settings</h2>
        <button class="close-panel panel-button" data-panel="settings-panel">
          <span class="visually-hidden">Close panel</span>
          <!-- prettier-ignore -->
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M5 5h2v2H5zm4 4H7V7h2zm2 2H9V9h2zm2 0h-2v2H9v2H7v2H5v2h2v-2h2v-2h2v-2h2v2h2v2h2v2h2v-2h-2v-2h-2v-2h-2zm2-2v2h-2V9zm2-2v2h-2V7zm0 0V5h2v2z"/></svg>
        </button>
        <div class="form">
          <div class="form-row">
            <fieldset class="radio-fieldset">
              <legend>Oscillator</legend>
              <label for="synth-oscillator-type-amsawtooth"
                ><input
                  id="synth-oscillator-type-amsawtooth"
                  class="oscillator-type"
                  type="radio"
                  name="osc"
                  value="amsawtooth"
                />Sawtooth</label
              >
              <label for="synth-oscillator-type-amsine"
                ><input
                  id="synth-oscillator-type-amsine"
                  class="oscillator-type"
                  type="radio"
                  name="osc"
                  value="amsine"
                />Sine</label
              >
              <label for="synth-oscillator-type-amsquare"
                ><input
                  id="synth-oscillator-type-amsquare"
                  class="oscillator-type"
                  type="radio"
                  name="osc"
                  value="amsquare"
                  checked
                />Square</label
              >
              <label for="synth-oscillator-type-amtriangle"
                ><input
                  id="synth-oscillator-type-amtriangle"
                  class="oscillator-type"
                  type="radio"
                  name="osc"
                  value="amtriangle"
                />Triangle</label
              >
            </fieldset>
          </div>
          <div class="form-row">
            <fieldset id="envelope-fieldset">
              <legend>Amplitude Envelope</legend>
              <div class="input-group">
                <label for="synth-envelope-attack"> Attack </label>
                <input
                  id="synth-envelope-attack"
                  name="envelope-attack"
                  class="synth-option"
                  type="range"
                  min="0"
                  max="2"
                  step="0.01"
                  value="0.02"
                />
                <span id="synth-envelope-attack-value" class="value">0.02</span>
              </div>
              <div class="input-group">
                <label for="synth-envelope-decay"> Decay </label>
                <input
                  id="synth-envelope-decay"
                  name="envelope-decay"
                  class="synth-option"
                  type="range"
                  min="0"
                  max="2"
                  step="0.01"
                  value="0.2"
                />
                <span id="synth-envelope-decay-value" class="value">0.2</span>
              </div>
              <div class="input-group">
                <label for="synth-envelope-sustain"> Sustain </label>
                <input
                  id="synth-envelope-sustain"
                  name="envelope-sustain"
                  class="synth-option"
                  type="range"
                  min="0"
                  max="1"
                  step="0.01"
                  value="0.25"
                />
                <span id="synth-envelope-sustain-value" class="value"
                  >0.25</span
                >
              </div>
              <div class="input-group">
                <label for="synth-envelope-release"> Release </label>
                <input
                  id="synth-envelope-release"
                  name="envelope-release"
                  class="synth-option"
                  type="range"
                  min="0"
                  max="5"
                  step="0.01"
                  value="1"
                />
                <span id="synth-envelope-release-value" class="value">1</span>
              </div>
            </fieldset>
            <fieldset>
              <div class="input-group">
                <label for="effects-reverb-wet">Reverb</label>
                <input
                  id="effects-reverb-wet"
                  name="reverb-wet"
                  type="range"
                  class="synth-option"
                  min="0"
                  max="1"
                  value="0.667"
                  step="0.01"
                />
                <span id="effects-reverb-wet-value" class="value">0.667</span>
              </div>
            </fieldset>
            <fieldset>
              <div class="input-group">
                <label for="bpm-input">BPM</label>
                <input
                  id="bpm-input"
                  name="bpm"
                  type="range"
                  min="40"
                  max="180"
                  value="120"
                  step="1"
                />
                <span id="bpm-value" class="value">120</span>
              </div>
            </fieldset>
          </div>
          <div class="form-row">
            <button id="reset-settings-button">Reset to defaults</button>
          </div>
        </div>
      </div>
    </div>

    <a
      id="download-midi-link"
      class="visually-hidden"
      tabindex="-1"
      download="blackout-music.mid"
      >Hidden download midi link</a
    >

    <input
      id="midi-file-input"
      type="file"
      class="visually-hidden"
      tabindex="-1"
      accept=".mid"
    />

    <script src="js/main.js" type="module"></script>
  </body>
</html>
